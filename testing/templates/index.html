<!-- templates/index.html -->

{% extends "base.html" %}

{% block title %}Task and Caregiver Manager{% endblock %}

{% block content %}
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <div class="container mt-5">
        <!-- Remove the form and input field -->

        <!-- Add a button to trigger the task addition -->
        <button id="addTaskBtn" class="btn btn-primary">Add Default Task</button>

        <!-- Add a link to navigate to the backlog page -->
        <p class="mt-3">
            <a href="{{ url_for('backlog') }}" class="btn btn-secondary">View Task Backlog</a>
        </p>

        <!-- Add a link to navigate to the caregiver page -->
        <p class="mt-3">
            <a href="{{ url_for('caregiver') }}" class="btn btn-success">Manage Caregivers</a>
        </p>
    </div>

    <!-- Add JavaScript to handle the button click -->
    <script>
        document.getElementById('addTaskBtn').addEventListener('click', function () {
            // Use JavaScript to make an AJAX request to add the default task
            var xhr = new XMLHttpRequest();
            xhr.open('POST', '/add_task', true);
            xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
            xhr.send('description=Fall');

            // Reload the page to reflect the changes
            location.reload();
        });
    </script>
{% endblock %}
